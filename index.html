<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagn√≥stico Personalizado</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #1e3a8a 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            margin: 40px auto;
            background: #f0f9ff;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 2px solid #fb923c;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            color: #0f172a;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .divider {
            height: 4px;
            width: 120px;
            background: linear-gradient(to right, #fb923c, #f97316);
            margin: 0 auto 20px;
            border-radius: 2px;
        }

        .subtitle {
            color: #1e3a8a;
            font-weight: 500;
        }

        .form-group {
            margin-bottom: 30px;
        }

        label {
            display: block;
            color: #0f172a;
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 0.95rem;
        }

        input[type="text"],
        input[type="email"] {
            width: 100%;
            padding: 14px;
            border: 2px solid #1e3a8a;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
            background: white;
            color: #0f172a;
        }

        input[type="text"]:focus,
        input[type="email"]:focus {
            outline: none;
            border-color: #fb923c;
            box-shadow: 0 0 0 3px rgba(251, 146, 60, 0.1);
        }

        .option-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 14px;
            border: 2px solid #1e3a8a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            background: #f0f9ff;
        }

        .option:hover {
            background: white;
            border-color: #fb923c;
        }

        .option input[type="radio"],
        .option input[type="checkbox"] {
            margin-right: 12px;
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #fb923c;
        }

        .option span {
            color: #0f172a;
            font-weight: 500;
        }

        .separator {
            border-top: 2px solid #fb923c;
            margin: 30px 0;
        }

        .submit-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(to right, #fb923c, #f97316);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(251, 146, 60, 0.3);
        }

        .submit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(251, 146, 60, 0.4);
        }

        .hidden {
            display: none;
        }

        /* P√°gina de agradecimiento */
        .thanks-container {
            text-align: center;
            max-width: 500px;
            margin: 40px auto;
            background: #f0f9ff;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 2px solid #fb923c;
        }

        .emoji {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .check-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: #fb923c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .thanks-title {
            color: #0f172a;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .profile-box {
            background: linear-gradient(135deg, #1e3a8a, #0f172a);
            border: 2px solid #fb923c;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
        }

        .profile-title {
            color: #fb923c;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .profile-desc {
            color: #f0f9ff;
            line-height: 1.6;
        }

        .guide-box {
            background: linear-gradient(135deg, #f0f9ff, white);
            border: 2px solid #f97316;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(249, 115, 22, 0.2);
        }

        .guide-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            color: #0f172a;
        }

        .guide-icon {
            width: 24px;
            height: 24px;
            margin-right: 10px;
            color: #f97316;
        }

        .guide-text {
            color: #1e3a8a;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .guide-btn {
            display: block;
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #fb923c, #f97316);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
            transition: all 0.3s;
        }

        .guide-btn:hover {
            transform: scale(1.05);
        }

        .email-notice {
            color: #1e3a8a;
            font-weight: 500;
            margin: 20px 0;
        }

        .social-divider {
            border-top: 2px solid #fb923c;
            margin: 30px 0 20px;
        }

        .social-title {
            color: #0f172a;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .social-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .social-icon:hover {
            transform: scale(1.1);
        }

        .social-instagram {
            background: linear-gradient(45deg, #833ab4, #fd1d1d, #fcb045);
        }

        .social-tiktok {
            background: #0f172a;
        }

        .social-facebook {
            background: #1877f2;
        }

        .social-whatsapp {
            background: #fb923c;
        }

        .loader {
            text-align: center;
            padding: 60px 20px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f0f9ff;
            border-top: 4px solid #fb923c;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loader-text {
            color: #f0f9ff;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <!-- Formulario -->
    <div id="formContainer" class="container">
        <div class="header">
            <h1>Diagn√≥stico Personalizado</h1>
            <div class="divider"></div>
            <p class="subtitle">Completa este cuestionario para recibir tu gu√≠a personalizada</p>
        </div>

        <div class="form-group">
            <label>Nombre completo *</label>
            <input type="text" id="nombre" placeholder="Tu nombre" required>
        </div>

        <div class="form-group">
            <label>Correo electr√≥nico *</label>
            <input type="email" id="correo" placeholder="tu@email.com" required>
        </div>

        <div class="separator"></div>

        <div class="form-group">
            <label>1. ¬øEn qu√© punto est√°s hoy? *</label>
            <div class="option-group">
                <label class="option">
                    <input type="radio" name="pregunta1" value="a" required>
                    <span>No s√© por d√≥nde empezar</span>
                </label>
                <label class="option">
                    <input type="radio" name="pregunta1" value="b">
                    <span>Tengo ideas, pero sin estructura</span>
                </label>
                <label class="option">
                    <input type="radio" name="pregunta1" value="c">
                    <span>Ya intent√© y me frustr√©</span>
                </label>
            </div>
        </div>

        <div class="form-group">
            <label>2. ¬øQu√© te detiene m√°s? (puedes seleccionar varias) *</label>
            <div class="option-group">
                <label class="option">
                    <input type="checkbox" name="pregunta2" value="Falta de claridad">
                    <span>Falta de claridad</span>
                </label>
                <label class="option">
                    <input type="checkbox" name="pregunta2" value="Falta de tiempo">
                    <span>Falta de tiempo</span>
                </label>
                <label class="option">
                    <input type="checkbox" name="pregunta2" value="Miedo a fallar">
                    <span>Miedo a fallar</span>
                </label>
                <label class="option">
                    <input type="checkbox" name="pregunta2" value="Demasiada informaci√≥n">
                    <span>Demasiada informaci√≥n</span>
                </label>
            </div>
        </div>

        <div class="form-group">
            <label>3. ¬øCu√°nto tiempo podr√≠as dedicar semanalmente? *</label>
            <div class="option-group">
                <label class="option">
                    <input type="radio" name="pregunta3" value="1‚Äì3 h" required>
                    <span>1‚Äì3 h</span>
                </label>
                <label class="option">
                    <input type="radio" name="pregunta3" value="4‚Äì6 h">
                    <span>4‚Äì6 h</span>
                </label>
                <label class="option">
                    <input type="radio" name="pregunta3" value="7+ h">
                    <span>7+ h</span>
                </label>
            </div>
        </div>

        <div class="form-group">
            <label>4. ¬øQu√© te gustar√≠a lograr en 2026? *</label>
            <div class="option-group">
                <label class="option">
                    <input type="radio" name="pregunta4" value="Ingresos extra" required>
                    <span>Ingresos extra</span>
                </label>
                <label class="option">
                    <input type="radio" name="pregunta4" value="Negocio digital estable">
                    <span>Negocio digital estable</span>
                </label>
                <label class="option">
                    <input type="radio" name="pregunta4" value="Claridad y enfoque">
                    <span>Claridad y enfoque</span>
                </label>
            </div>
        </div>

        <button class="submit-btn" onclick="enviarFormulario()">Enviar diagn√≥stico</button>
    </div>

    <!-- Loader -->
    <div id="loader" class="hidden">
        <div class="loader">
            <div class="spinner"></div>
            <p class="loader-text">Procesando tu informaci√≥n...</p>
        </div>
    </div>

    <!-- P√°gina de agradecimiento -->
    <div id="thanksContainer" class="thanks-container hidden">
        <div class="emoji" id="perfilEmoji">‚ú®</div>
        <div class="check-icon">‚úì</div>
        <h1 class="thanks-title">¬°Gracias por completar el diagn√≥stico!</h1>

        <div class="profile-box">
            <div class="profile-title" id="perfilTitulo">Tu perfil</div>
            <p class="profile-desc" id="perfilDescripcion">Descripci√≥n personalizada</p>
        </div>

        <div class="guide-box">
            <div class="guide-header">
                <svg class="guide-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                    <path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"/>
                </svg>
                <h3>Tu gu√≠a personalizada est√° lista</h3>
            </div>
            <p class="guide-text">Accede a tu documento con los siguientes pasos recomendados:</p>
            <a href="#" id="guiaLink" class="guide-btn" target="_blank">Ver mi gu√≠a ahora ‚Üí</a>
        </div>

        <p class="email-notice">En los pr√≥ximos minutos recibir√°s m√°s informaci√≥n en tu correo.</p>

        <div class="social-divider"></div>
        <p class="social-title">S√≠guenos en nuestras redes:</p>
        <div class="social-links">
            <a href="https://www.instagram.com/aprendeconbran/" target="_blank" class="social-icon social-instagram">
                <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
            </a>
            <a href="https://tiktok.com" target="_blank" class="social-icon social-tiktok">
                <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                    <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
                </svg>
            </a>
            <a href="https://facebook.com" target="_blank" class="social-icon social-facebook">
                <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
            </a>
            <a href="https://wa.me/" target="_blank" class="social-icon social-whatsapp">
                <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                    <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
                </svg>
            </a>
        </div>
    </div>

    <script>
        // CONFIGURACI√ìN - Reemplaza con tus URLs reales
        const CONFIG = {
            googleSheetsURL: 'https://script.google.com/macros/s/AKfycbx-RyQiJe8Y_4Ecye0QU1U4HtfMneDkGtGLknyqG9pwCCh5gOGUOuuFJfrQapTd_dMi/exec',
            /*beaconsAPIKey: 'TU_API_KEY_DE_BEACONS_AQUI',
            beaconsListID: 'TU_LIST_ID_DE_BEACONS_AQUI',*/
            documentos: {
                CONFUNDIDO: 'https://tusitio.com/guia-confundido',
                SATURADO: 'https://tusitio.com/guia-saturado',
                PARALIZADO: 'https://tusitio.com/guia-paralizado'
            }
        };

        function getEtiqueta(respuesta) {
            const etiquetas = {
                'a': 'CONFUNDIDO',
                'b': 'SATURADO',
                'c': 'PARALIZADO'
            };
            return etiquetas[respuesta];
        }

        function getMensaje(etiqueta) {
            const mensajes = {
                CONFUNDIDO: {
                    emoji: 'üß≠',
                    titulo: 'Tu perfil: CONFUNDIDO',
                    descripcion: 'Necesitas claridad y un plan claro. Te recomendamos empezar con una estructura simple y validar tu idea antes de invertir tiempo.'
                },
                SATURADO: {
                    emoji: 'üìä',
                    titulo: 'Tu perfil: SATURADO',
                    descripcion: 'Tienes ideas pero necesitas organizaci√≥n. Prioriza una sola idea y crea un plan de acci√≥n semanal.'
                },
                PARALIZADO: {
                    emoji: 'üöÄ',
                    titulo: 'Tu perfil: PARALIZADO',
                    descripcion: 'Es momento de replantearte tu estrategia. Analiza qu√© fall√≥ y ajusta tu enfoque con mentor√≠a.'
                }
            };
            return mensajes[etiqueta];
        }

        async function enviarAGoogleSheets(datos) {
            try {
                await fetch(CONFIG.googleSheetsURL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(datos)
                });
                return true;
            } catch (error) {
                console.error('Error al enviar a Google Sheets:', error);
                return false;
            }
        }

        /*async function sincronizarConBeacons(nombre, correo, etiqueta) {
            try {
                await fetch('https://api.beacons.ai/v1/contacts', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${CONFIG.beaconsAPIKey}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email: correo,
                        first_name: nombre.split(' ')[0],
                        last_name: nombre.split(' ').slice(1).join(' '),
                        tags: [etiqueta],
                        list_id: CONFIG.beaconsListID
                    })
                });
                return true;
            } catch (error) {
                console.error('Error al sincronizar con Beacons:', error);
                return false;
            }
        }*/

        async function enviarFormulario() {
            // Obtener valores
            const nombre = document.getElementById('nombre').value.trim();
            const correo = document.getElementById('correo').value.trim();
            const pregunta1 = document.querySelector('input[name="pregunta1"]:checked');
            const pregunta2 = Array.from(document.querySelectorAll('input[name="pregunta2"]:checked')).map(cb => cb.value);
            const pregunta3 = document.querySelector('input[name="pregunta3"]:checked');
            const pregunta4 = document.querySelector('input[name="pregunta4"]:checked');

            // Validar
            if (!nombre || !correo || !pregunta1 || pregunta2.length === 0 || !pregunta3 || !pregunta4) {
                alert('Por favor completa todos los campos');
                return;
            }

            // Mostrar loader
            document.getElementById('formContainer').classList.add('hidden');
            document.getElementById('loader').classList.remove('hidden');

            // Obtener etiqueta
            const etiqueta = getEtiqueta(pregunta1.value);

            // Preparar datos
            const datos = {
                timestamp: new Date().toISOString(),
                nombre: nombre,
                correo: correo,
                etiqueta: etiqueta,
                pregunta1: pregunta1.value === 'a' ? 'No s√© por d√≥nde empezar' : 
                           pregunta1.value === 'b' ? 'Tengo ideas, pero sin estructura' : 
                           'Ya intent√© y me frustr√©',
                pregunta2: pregunta2.join(', '),
                pregunta3: pregunta3.value,
                pregunta4: pregunta4.value
            };

            console.log('Datos:', datos);

            // Enviar a Google Sheets
            await enviarAGoogleSheets(datos);

            // Sincronizar con Beacons
            await sincronizarConBeacons(nombre, correo, etiqueta);

            // Mostrar p√°gina de agradecimiento
            setTimeout(() => {
                const mensaje = getMensaje(etiqueta);
                document.getElementById('perfilEmoji').textContent = mensaje.emoji;
                document.getElementById('perfilTitulo').textContent = mensaje.titulo;
                document.getElementById('perfilDescripcion').textContent = mensaje.descripcion;
                document.getElementById('guiaLink').href = CONFIG.documentos[etiqueta];

                document.getElementById('loader').classList.add('hidden');
                document.getElementById('thanksContainer').classList.remove('hidden');
            }, 1500);
        }
    </script>
</body>
</html>
